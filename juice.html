<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Our Juices</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f7f7f7;
      margin: 0;
      padding: 0;
      color: #333;
    }

    header {
      background: linear-gradient(90deg, #a8e0a1, #f6f6a7);
      text-align: center;
      padding: 25px 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    header h1 {
      margin: 0;
      color: #2d5d3b;
      font-size: 36px;
      font-weight: 600;
    }

    .discount-info {
      text-align: center;
      color: #ff5733;
      font-size: 18px;
      font-weight: 600;
      margin: 15px 0;
    }

    .container {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 25px;
      padding: 30px 20px;
    }

    .product {
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 8px 15px rgba(0,0,0,0.1);
      text-align: center;
      padding: 20px;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .product:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 20px rgba(0,0,0,0.2);
    }

    .product img {
      width: 100%;
      border-radius: 15px;
      margin-bottom: 15px;
    }

    .product h3 {
      margin: 10px 0 5px 0;
      font-size: 20px;
      color: #2d5d3b;
    }

    .product p {
      margin: 5px 0;
      font-size: 16px;
      color: #555;
    }

    .product button {
      margin-top: 12px;
      padding: 10px 20px;
      background: linear-gradient(90deg, #ffb347, #ffcc33);
      color: #fff;
      border: none;
      border-radius: 25px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: all 0.3s;
    }

    .product button:hover {
      background: linear-gradient(90deg, #ffcc33, #ffb347);
      transform: scale(1.05);
    }

    .cart {
      width: 100%;
      max-width: 480px;
      margin: 50px auto;
      background: #fff9e6;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }

    .cart h2 {
      color: #2d5d3b;
      text-align: center;
      margin-bottom: 20px;
    }

    #cart-items {
      list-style: none;
      padding: 0;
    }

    #cart-items li {
      margin-bottom: 18px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.05);
    }

    .quantity-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
    }

    .quantity-controls button {
      padding: 5px 10px;
      font-size: 16px;
      background-color: #ffcc33;
      border: none;
      border-radius: 50%;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
    }

    .quantity-controls button:hover {
      background-color: #ffb347;
    }

    .delete-btn {
      background-color: red;
      color: white;
      border: none;
      padding: 5px 10px;
      font-weight: bold;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .delete-btn:hover {
      background-color: #ff4d4d;
    }

    .options-box {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin: 15px 0;
      font-weight: 500;
    }

    #product-total, #shipping-fee, #discount-amount, #total-price {
      font-weight: 600;
      margin-top: 10px;
      font-size: 18px;
    }

    .place-order-btn {
      display: block;
      margin-top: 20px;
      width: 100%;
      padding: 15px;
      background: linear-gradient(90deg, #2d5d3b, #4CAF50);
      color: white;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-size: 18px;
      font-weight: 600;
      transition: all 0.3s;
    }

    .place-order-btn:hover {
      background: linear-gradient(90deg, #4CAF50, #2d5d3b);
      transform: scale(1.03);
    }

    .eligibility-label {
      font-size: 14px;
      color: #555;
      margin-left: 25px;
    }
  </style>
</head>
<body>

<header>
  <h1>Our Juices</h1>
</header>

<p class="discount-info">2 or more products â€“ choose either Free Shipping or 10% Discount</p>

<div class="container" id="product-list"></div>

<div class="cart">
  <h2>Shopping Cart</h2>
  <ul id="cart-items"></ul>

  <div class="options-box">
    <label>
      <input type="radio" name="cart-option" id="free-shipping" value="shipping" onclick="updateCart()">
      Free Shipping <span class="eligibility-label">(Eligible for 2+ products)</span>
    </label>
    <label>
      <input type="radio" name="cart-option" id="apply-discount" value="discount" onclick="updateCart()">
      Apply 10% Discount <span class="eligibility-label">(Eligible for 2+ products)</span>
    </label>
  </div>

  <!-- Separate totals -->
  <p id="product-total">Product Total: $0.00</p>
  <p id="shipping-fee">Shipping Fee: $0.00</p>
  <p id="discount-amount">Discount: $0.00</p>
  <p id="total-price">Final Total: $0.00</p>

  <button class="place-order-btn" onclick="placeOrder()">Place Order</button>
</div>

<script>
class Juice {
  constructor(name, price, img, id) {
    this.name = name;
    this.price = price;
    this.img = img;
    this.id = id;
    this.quantity = 1;
  }
}

const products = [
  new Juice('Pineapple Juice', 4.99, 'pinaple.jpg', 1),
  new Juice('Lemon Juice', 3.99, 'lemon.jpg', 2),
  new Juice('Green Juice', 5.99, 'gren.jpg', 3),
  new Juice('Mango Juice', 4.49, 'mango.jpg', 4),
  new Juice('Berry Juice', 6.49, 'berry.jpg', 5),
  new Juice('Apple Juice', 3.79, 'apple.jpg', 6),
];

let cart = [];

function updateCart() {
  const cartItems = document.getElementById('cart-items');
  const productTotalEl = document.getElementById('product-total');
  const shippingFeeEl = document.getElementById('shipping-fee');
  const discountAmountEl = document.getElementById('discount-amount');
  const totalPriceEl = document.getElementById('total-price');

  const freeShippingSelected = document.getElementById('free-shipping').checked;
  const discountSelected = document.getElementById('apply-discount').checked;

  cartItems.innerHTML = '';
  let total = 0;

  cart.forEach(item => {
    const li = document.createElement('li');
    li.innerHTML = `
      <div>${item.name} - $${item.price.toFixed(2)} x ${item.quantity}</div>
      <div class="quantity-controls">
        <button onclick="decreaseQuantity(${item.id})">-</button>
        <span>${item.quantity}</span>
        <button onclick="increaseQuantity(${item.id})">+</button>
        <button class="delete-btn" onclick="removeItem(${item.id})">Delete</button>
      </div>
    `;
    cartItems.appendChild(li);
    total += item.price * item.quantity;
  });

  const totalQuantity = cart.reduce((sum, item) => sum + item.quantity, 0);
  let finalTotal = total;
  let discountAmount = 0;
  let shippingFee = 2;

  // Disable options if less than 2 products
  if (totalQuantity < 2) {
    document.getElementById('free-shipping').disabled = true;
    document.getElementById('apply-discount').disabled = true;
    document.getElementById('free-shipping').checked = false;
    document.getElementById('apply-discount').checked = false;
  } else {
    document.getElementById('free-shipping').disabled = false;
    document.getElementById('apply-discount').disabled = false;
  }

  // Apply discount or shipping fee
  if (discountSelected && totalQuantity >= 2) {
    discountAmount = total * 0.1;
    finalTotal = total - discountAmount + shippingFee;
  } else if (freeShippingSelected && totalQuantity >= 2) {
    discountAmount = 0;
    finalTotal = total;
    shippingFee = 0;
  } else if (totalQuantity >= 2) {
    finalTotal = total + shippingFee;
  }

  productTotalEl.textContent = `Product Total: $${total.toFixed(2)}`;
  shippingFeeEl.textContent = `Shipping Fee: $${shippingFee.toFixed(2)}`;
  discountAmountEl.textContent = `Discount: $${discountAmount.toFixed(2)}`;
  totalPriceEl.textContent = `Final Total: $${finalTotal.toFixed(2)}`;
}

function addToCart(product) {
  const existingProduct = cart.find(item => item.id === product.id);
  if (existingProduct) existingProduct.quantity++;
  else cart.push(product);
  updateCart();
}

function increaseQuantity(productId) {
  const product = cart.find(item => item.id === productId);
  if (product) { product.quantity++; updateCart(); }
}

function decreaseQuantity(productId) {
  const product = cart.find(item => item.id === productId);
  if (product && product.quantity > 1) { product.quantity--; updateCart(); }
}

function removeItem(productId) {
  cart = cart.filter(item => item.id !== productId);
  updateCart();
}

function placeOrder() {
  alert('Order placed successfully!');
  cart = [];
  updateCart();
}

const productList = document.getElementById('product-list');
products.forEach(product => {
  const div = document.createElement('div');
  div.classList.add('product');

  const img = document.createElement('img');
  img.src = product.img;
  div.appendChild(img);

  const h3 = document.createElement('h3');
  h3.textContent = product.name;
  div.appendChild(h3);

  const p = document.createElement('p');
  p.textContent = `$${product.price}`;
  div.appendChild(p);

  const button = document.createElement('button');
  button.textContent = 'Add to Cart';
  button.onclick = () => addToCart(product);
  div.appendChild(button);

  productList.appendChild(div);
});
</script>

</body>
</html>
